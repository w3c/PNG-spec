<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN"
"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">

<svg width="710" height="340" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<style type="text/css">
<![CDATA[
rect {stroke:black;fill:white;}
text {font-family:Verdana, sans-serif;font-size:14;text-anchor:start}
line {stroke:black;stroke-width:2}
]]>
</style>
<defs>

<symbol id="filter1" >		
<rect width="8" height="8" style="fill:#EECCAA" />
</symbol>





<symbol id="pixelfr" >		
<rect width="8" height="8" style="fill:#EEAAAA" />
</symbol>

<symbol id="pixelfg" >		
<rect width="8" height="8" style="fill:#AAEEAA" />
</symbol>

<symbol id="pixelfb" >		
<rect width="8" height="8" style="fill:#AAAAEE" />
</symbol>

<symbol id="pixelfa" >		
<rect width="8" height="8" style="fill:#DDDDDD" />
</symbol>



<symbol id="pixelr" >		
<rect width="8" height="8" style="fill:red" />
</symbol>

<symbol id="pixelg" >		
<rect width="8" height="8" style="fill:green" />
</symbol>

<symbol id="pixelb" >		
<rect width="8" height="8" style="fill:blue" />
</symbol>

<symbol id="pixela" >		
<rect width="8" height="8" style="fill:grey" />
</symbol>

</defs>

<!-- solid arrow heads right and left -->
<marker id="arrend" refX="8" refY="4" markerWidth="8" markerHeight="8" orient="auto">
  <path d="M 1 4 L 1 1 8 4 1 7z"/>
</marker>

<marker id="larrend" refX="0" refY="4" markerWidth="8" markerHeight="8" orient="auto">
  <path d="M 8 4 L 8 1 0 4 8 7z"/>
</marker>

<g transform="translate(10,10)">
<g transform="scale(4)">
<use transform="translate(18,6)" xlink:href="#pixela" />
<use transform="translate(12,12)" xlink:href="#pixelb" />
<use transform="translate(6,18)" xlink:href="#pixelg" />
<use transform="translate(0,24)" xlink:href="#pixelr" />
</g>
<text x="8" y="116">1</text>
</g>

<g transform="translate(60,10)">
<g transform="scale(4)">
<use transform="translate(18,6)" xlink:href="#pixela" />
<use transform="translate(12,12)" xlink:href="#pixelb" />
<use transform="translate(6,18)" xlink:href="#pixelg" />
<use transform="translate(0,24)" xlink:href="#pixelr" />
</g>
<text x="8" y="116">2</text>
</g>

<g transform="translate(120,10)">
<g transform="scale(4)">
<use transform="translate(18,6)" xlink:href="#pixela" />
<use transform="translate(12,12)" xlink:href="#pixelb" />
<use transform="translate(6,18)" xlink:href="#pixelg" />
<use transform="translate(0,24)" xlink:href="#pixelr" />
</g>
<text x="8" y="116">3</text>
</g>

<g transform="translate(180,10)">
<g transform="scale(4)">
<use transform="translate(18,6)" xlink:href="#pixela" />
<use transform="translate(12,12)" xlink:href="#pixelb" />
<use transform="translate(6,18)" xlink:href="#pixelg" />
<use transform="translate(0,24)" xlink:href="#pixelr" />
</g>
<text x="8" y="116">4</text>
</g>

<g transform="translate(240,10)">
<g transform="scale(4)">
<use transform="translate(18,6)" xlink:href="#pixela" />
<use transform="translate(12,12)" xlink:href="#pixelb" />
<use transform="translate(6,18)" xlink:href="#pixelg" />
<use transform="translate(0,24)" xlink:href="#pixelr" />
</g>
<text x="8" y="116">5</text>
</g>

<text x="360" y="80">A scanline is serialized, then transformed</text>
<text x="360" y="100">by filter type t. Each entry in the filtered</text>
<text x="360" y="120">scanline depends on the filter type and</text>
<text x="360" y="140">the bytes from same channel on the</text>
<text x="360" y="160">current or previous scanline.</text>
<text x="360" y="180"> </text>

<line marker-end="url(#arrend)" x1="50" y1="160" x2="50" y2="240"/>


<g transform="translate(20,250)">
<text x="0" y="45">Filter</text>
<text x="0" y="57">type t</text>
<text x="200" y="45">Filtered scanline</text>
<g transform="scale(3)">
<use transform="translate(0,0)" xlink:href="#filter1" />
</g>
<text x="6" y="18">t</text>
</g>

<g transform="translate(27,220)">
<g transform="scale(3)">
<use transform="translate(10,10)" xlink:href="#pixelfr" />
<use transform="translate(20,10)" xlink:href="#pixelfg" />
<use transform="translate(30,10)" xlink:href="#pixelfb" />
<use transform="translate(40,10)" xlink:href="#pixelfa" />
</g>
<text x="84" y="15">1</text>
</g>

<g transform="translate(150,220)">
<g transform="scale(3)">
<use transform="translate(10,10)" xlink:href="#pixelfr" />
<use transform="translate(20,10)" xlink:href="#pixelfg" />
<use transform="translate(30,10)" xlink:href="#pixelfb" />
<use transform="translate(40,10)" xlink:href="#pixelfa" />
</g>
<text x="84" y="15">2</text>
</g>

<g transform="translate(273,220)">
<g transform="scale(3)">
<use transform="translate(10,10)" xlink:href="#pixelfr" />
<use transform="translate(20,10)" xlink:href="#pixelfg" />
<use transform="translate(30,10)" xlink:href="#pixelfb" />
<use transform="translate(40,10)" xlink:href="#pixelfa" />
</g>
<text x="84" y="15">3</text>
</g>

<g transform="translate(396,220)">
<g transform="scale(3)">
<use transform="translate(10,10)" xlink:href="#pixelfr" />
<use transform="translate(20,10)" xlink:href="#pixelfg" />
<use transform="translate(30,10)" xlink:href="#pixelfb" />
<use transform="translate(40,10)" xlink:href="#pixelfa" />
</g>
<text x="84" y="15">4</text>
</g>

<g transform="translate(519,220)">
<g transform="scale(3)">
<use transform="translate(10,10)" xlink:href="#pixelfr" />
<use transform="translate(20,10)" xlink:href="#pixelfg" />
<use transform="translate(30,10)" xlink:href="#pixelfb" />
<use transform="translate(40,10)" xlink:href="#pixelfa" />
</g>
<text x="84" y="15">5</text>
</g>

</svg>

